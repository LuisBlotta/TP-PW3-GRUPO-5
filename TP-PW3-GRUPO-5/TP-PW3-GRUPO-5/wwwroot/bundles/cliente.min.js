function GenerarTabla(n){var t=$("#example").DataTable();t.destroy();listado="";n.forEach(n=>{listado+=`<tr><td>
                ${n.Nombre}
                </td>
                <td>
                ${n.Numero}
                </td>
                <td>
                ${n.Telefono}
                </td>
                <td>
                <a class="me-3" href="/cliente/detalleCliente/ver/${n.IdCliente}" data-toggle="tooltip"
                    title="Ver"><i class="fas fa-eye"></i></a>
                <a class="me-3" href="/cliente/detalleCliente/editar/${n.IdCliente}" data-toggle="tooltip"
                    title="Editar"><i class="fas fa-edit"></i></a>`,listado+=n.BorradoPor==null?`
            <a onclick="eliminarCliente(${n.IdCliente},'${n.Nombre}')" data-toggle="tooltip" title="Borrar">
                <i class="fas fa-trash-alt"></i>
            </a>`:`<i title="Eliminado" class="fas fa-ban"></i>`,listado+=`</td></tr>`});$("#tbody").html(listado)}function ObtenerResultados(){var n=document.getElementById("numero").value;n==""&&(n=null);let t={Nombre:document.getElementById("nombre").value,Numero:n,Eliminado:document.getElementById("eliminado").checked};fetch("https://localhost:44344/cliente/ObtenerFiltros",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then(n=>n.json()).then(n=>{GenerarTabla(n),Paginacion()})}function Paginacion(){$("#example").DataTable({ordering:!1,retrieve:!0,destroy:!0,language:{paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"},lengthMenu:"Mostrar _MENU_ resultados por página",zeroRecords:"No se encontraron resultados",info:"Mostrando página  _PAGE_ de _PAGES_",infoEmpty:"Sin resultados",infoFiltered:"(filtered from _MAX_ total records)"}});$("#example_filter").hide()}function eliminarCliente(n,t){fetch("https://localhost:44344/cliente/ConsultarEstadoPedidos",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then(n=>n.json()).then(i=>{i?swal({title:`¿Desea eliminar al cliente (${t})?`,text:" Tenga en cuenta que posee pedidos no eliminados. Al eliminar al cliente, también se eliminarán sus pedidos",icon:"warning",buttons:["Cancelar","Aceptar"],dangerMode:!0}).then(t=>{t&&(window.location.href=`/Cliente/EliminarCliente/${n}`)}):swal({title:"¿Desea eliminar?",text:"¿Confirma que desea eliminar?",icon:"warning",buttons:["Cancelar","Aceptar"],dangerMode:!0}).then(t=>{t&&(window.location.href=`/Cliente/EliminarCliente/${n}`)})})}const btnEliminar=document.getElementById("eliminado"),inpNombre=document.getElementById("nombre"),inpEmail=document.getElementById("numero");$(document).ready(function(){$(".select2Cliente").select2()});$(document).ready(function(){Paginacion();ObtenerResultados()});