function GenerarTabla(n){var i=$("#example").DataTable();i.destroy();listado="";let t=new Date;t=t.getDate();n.forEach(n=>{listado+=`<tr><td>
                ${n.Descripcion}
                </td>
                <td>
                ${n.Codigo}
                </td>
                <td>
                <a class="me-3" href="/Articulo/DetalleArticulo/ver/${n.IdArticulo}" data-toggle="tooltip"
                    title="Ver"><i class="fas fa-eye"></i></a>
                <a class="me-3" href="/Articulo/DetalleArticulo/editar/${n.IdArticulo}" data-toggle="tooltip"
                    title="Editar"><i class="fas fa-edit"></i></a>`,listado+=n.BorradoPor==null?`
            <a onclick="eliminarArticulo(${n.IdArticulo})" data-toggle="tooltip" title="Borrar">
                <i class="fas fa-trash-alt"></i>
            </a>`:`<i title="Eliminado" class="fas fa-ban"></i>`,listado+=`</td></tr>`});$("#tbody").html(listado)}function ObtenerResultados(){let n={Descripcion:document.getElementById("descripcion").value,Codigo:document.getElementById("codigo").value,Eliminado:document.getElementById("eliminado").checked};fetch("https://localhost:44344/articulo/ObtenerFiltros",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then(n=>n.json()).then(n=>{GenerarTabla(n),Paginacion()})}function Paginacion(){$("#example").DataTable({ordering:!1,retrieve:!0,destroy:!0,language:{paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"},lengthMenu:"Mostrar _MENU_ resultados por página",zeroRecords:"No se encontraron resultados",info:"Mostrando página  _PAGE_ de _PAGES_",infoEmpty:"Sin resultados",infoFiltered:"(filtered from _MAX_ total records)"}});$("#example_filter").hide()}function eliminarArticulo(n){swal({title:"¿Desea eliminar?",text:"¿Confirma que desea eliminar?",icon:"warning",buttons:["Cancelar","Aceptar"],dangerMode:!0}).then(t=>{t&&(window.location.href=`/Articulo/EliminarArticulo/${n}`)})}function eliminarArticulo(n,t){fetch("https://localhost:44344/articulo/ConsultarEstadoPedidos",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then(n=>n.json()).then(i=>{i?swal({title:`¿Desea eliminar al artículo (${t})?`,text:" Tenga en cuenta que se encuentra en pedidos no eliminados. Al eliminar al artículo, también se eliminará de sus pedidos.",icon:"warning",buttons:["Cancelar","Aceptar"],dangerMode:!0}).then(t=>{t&&(window.location.href=`/articulo/EliminarArticulo/${n}`)}):swal({title:"¿Desea eliminar?",text:"¿Confirma que desea eliminar?",icon:"warning",buttons:["Cancelar","Aceptar"],dangerMode:!0}).then(t=>{t&&(window.location.href=`/articulo/EliminarArticulo/${n}`)})})}const btnEliminar=document.getElementById("eliminado"),inpNombre=document.getElementById("descripcion"),inpEmail=document.getElementById("codigo");$(document).ready(function(){$(".select2Articulo").select2()});$(document).ready(function(){Paginacion();ObtenerResultados()});